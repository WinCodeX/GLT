<!-- app/views/admin/notifications/new.html.erb -->
<!DOCTYPE html>
<html>
<head>
  <title>New Notification - Admin</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', sans-serif; background: #f5f5f5; padding: 20px; }
    .container { max-width: 800px; margin: 0 auto; background: white; padding: 40px; border-radius: 10px; }
    h1 { margin-bottom: 30px; color: #1f2937; }
    .form-group { margin-bottom: 20px; }
    label { display: block; margin-bottom: 8px; font-weight: 600; color: #374151; }
    input, textarea, select { width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 5px; }
    textarea { min-height: 120px; resize: vertical; }
    .btn { padding: 12px 24px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; margin-right: 10px; }
    .btn-primary { background: #667eea; color: white; }
    .btn-secondary { background: #6b7280; color: white; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸ“¬ Create New Notification</h1>
    
    <%= form_with model: [:admin, @notification], local: true do |f| %>
      <div class="form-group">
        <%= f.label :user_id, 'Send To User' %>
        <%= f.collection_select :user_id, @users, :id, :email, 
            { prompt: 'Select User' }, { required: true } %>
      </div>

      <div class="form-group">
        <%= f.label :title %>
        <%= f.text_field :title, required: true, placeholder: 'Notification title' %>
      </div>

      <div class="form-group">
        <%= f.label :message %>
        <%= f.text_area :message, required: true, placeholder: 'Notification message content' %>
      </div>

      <div class="form-group">
        <%= f.label :notification_type %>
        <%= f.select :notification_type, 
            options_for_select([
              ['General', 'general'],
              ['Package Update', 'package_update'],
              ['Support', 'support'],
              ['System', 'system']
            ]), {}, { required: true } %>
      </div>

      <div class="form-group">
        <%= f.label :priority %>
        <%= f.select :priority, 
            options_for_select([
              ['Low (0)', 0],
              ['Normal (1)', 1],
              ['High (2)', 2],
              ['Urgent (3)', 3]
            ], 1), {}, { required: true } %>
      </div>

      <div class="form-group">
        <%= f.label :channel %>
        <%= f.select :channel, 
            options_for_select([
              ['In-App', 'in_app'],
              ['Push Notification', 'push'],
              ['Both', 'both']
            ]), {}, { required: true } %>
      </div>

      <div style="margin-top: 30px;">
        <%= f.submit 'Create Notification', class: 'btn btn-primary' %>
        <%= link_to 'Cancel', admin_notifications_path, class: 'btn btn-secondary' %>
      </div>
    <% end %>
  </div>
</body>
</html>